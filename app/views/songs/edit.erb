<% if flash.has?(:message) %>
  <%= flash[:message] %>
<%end%>

<h1>Edit Song</h1>
<form action="/songs/<%= @song.slug %>" method="post">
  <input id="hidden" type="hidden" name="_method" value="patch">

  <label for="name">Song Name</label>
    <input type="text" name="song[name]" id="name" value="<%= @song.name %>"><br><br>

  <label for="artist_name">Artist Name</label>
    <input type="text" name="artist[name]" id="artist_name" value="<%= @song.artist.name %>"><br><br>

  <label for="genre_name">Genre</label><br>

    <% Genre.all.each do |genre| %>
      <%= genre.name %>
      <input type="checkbox" name="genres[]" id="<%= genre.name %>" value="<%= genre.id %>" <%= "checked" if @song.genres.include?(genre) %>>
    <% end %>
    <br>
    <br>
    <input type="submit" value="Save">

  </form>
