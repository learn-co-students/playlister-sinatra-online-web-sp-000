<h1>Edit a song</h1>

<% if flash.has?(:message) %>
  <%= flash[:message] %>
<% end %>

<form method="POST" action="/songs/<%= @song.slug %>">
    <input name="_method" value="patch" id="hidden" type="hidden">

    <label for="Name">Song Name: </label>
    <input type="text" name="song[name]" id="Name" value="<%= @song.name %>">

    <h3>Genres: </h3>
    <% @genres.each do |genre| %>
        <input type="checkbox" name="song[genre_ids][]" value="<%= genre.id %>" id="<%= genre.name %>" <%='checked' if @song.genres.include?(genre) %>><%= genre.name %><br>
    <% end %>

    <br>
    <label for="artist_name">Artist Name: </label>
    <input type="text" name="artist[name]" id="artist_name" value="<%= @song.artist.name %>">

    <br><br>
    <button type="submit" value="Save">Save</button>

</form>